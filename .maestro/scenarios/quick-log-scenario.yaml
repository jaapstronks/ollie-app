# Scenario: Quick Log Menu Usage
# Tests the FAB long-press quick log menu for rapid event logging
appId: nl.jaapstronks.Ollie
---
- launchApp
- waitForAnimationToEnd

# Wait for app to load
- extendedWaitUntil:
    visible: "Today|Vandaag"
    timeout: 5000
- takeScreenshot: "screenshots/quick-log-01-start"

# =====================
# TEST 1: Open Quick Menu
# =====================
- longPressOn:
    id: "FAB_BUTTON"
- waitForAnimationToEnd
- takeScreenshot: "screenshots/quick-log-02-menu-open"

# Quick menu should show quick actions
# Common actions: Pee outside, Poop outside, Eat, Sleep, Wake up

# =====================
# TEST 2: Quick Log Pee Outside
# =====================
# Look for "Pee outside" option
- runFlow:
    when:
      visible: "Pee outside|Plas buiten"
    commands:
      - tapOn: "Pee outside|Plas buiten"
      - waitForAnimationToEnd
      - takeScreenshot: "screenshots/quick-log-03-pee-logged"

# If that exact text isn't found, try just tapping in menu area
- runFlow:
    when:
      notVisible: "Pee outside|Plas buiten"
    commands:
      # Dismiss menu
      - tapOn:
          point: "20%,30%"
      - waitForAnimationToEnd

# =====================
# TEST 3: Quick Log Eat
# =====================
- longPressOn:
    id: "FAB_BUTTON"
- waitForAnimationToEnd

- runFlow:
    when:
      visible: "Eat|Eten"
    commands:
      - tapOn: "Eat|Eten"
      - waitForAnimationToEnd
      - takeScreenshot: "screenshots/quick-log-04-eat-logged"

# Dismiss if still open
- runFlow:
    when:
      notVisible: "Today|Vandaag"
    commands:
      - tapOn:
          point: "20%,30%"
      - waitForAnimationToEnd

# =====================
# TEST 4: Quick Log Sleep/Wake
# =====================
- longPressOn:
    id: "FAB_BUTTON"
- waitForAnimationToEnd

# Try Sleep first
- runFlow:
    when:
      visible: "Sleep|Slapen"
    commands:
      - tapOn: "Sleep|Slapen"
      - waitForAnimationToEnd
      - takeScreenshot: "screenshots/quick-log-05-sleep-logged"

# Then wake up
- longPressOn:
    id: "FAB_BUTTON"
- waitForAnimationToEnd

- runFlow:
    when:
      visible: "Wake up|Ontwaken"
    commands:
      - tapOn: "Wake up|Ontwaken"
      - waitForAnimationToEnd
      - takeScreenshot: "screenshots/quick-log-06-wake-logged"

# =====================
# VERIFY: Check Timeline
# =====================
- scroll
- waitForAnimationToEnd
- takeScreenshot: "screenshots/quick-log-07-timeline-verify"

# Multiple events should be visible
